{% if article and article.abstracts|length > 1 %}

<div class="btn-group">
  <button id="btnGroupDropLanguage" type="button" class="btn btn-secondary dropdown-toggle mb-0" data-bs-toggle="dropdown" aria-expanded="false">
    {% trans %}Resumo{% endtrans %}
    {% for abstract in article.abstracts  %}
      {% if gs_abstract and article_lang == abstract['language'] %}  
        {# Botão colapsado: mostra código ISO em MAIÚSCULO #}
        ({{ abstract['language']|upper }})
      {% endif %}
    {% endfor %}
  </button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="btnGroupDropLanguage">
    {% for abstract in article.abstracts  %}
      <li>
          {% if gs_abstract and article_lang == abstract['language'] %}
              <a href="#" class="current dropdown-item">
                {% trans %}Resumo{% endtrans %}
                {# Dropdown expandido: mostra nome traduzido do idioma #}
                {# g.interface_language contém o idioma da interface (pt/en/es) #}
                {# Compatível com PR #366 - migração de session.get('lang') para g.interface_language #}
                ({{ abstract['language']|language_name(g.interface_language) }})
              </a>
          {% else %}
              <a href="{{ url_for('.article_detail_v3', url_seg=article.journal.url_segment, article_pid_v3=article.aid, part='abstract', lang=abstract['language']) }}" class="dropdown-item">
                {% trans %}Resumo {% endtrans %}
                {# Dropdown expandido: mostra nome traduzido do idioma #}
                ({{ abstract['language']|language_name(g.interface_language) }})
              </a>
          {% endif %}
      <li>
    {% endfor %}
  </ul>
</div>
{% endif %}
